@page
@model AddMovieModel
@{
    ViewData["Title"] = "Add Movie";
}

<div class="admin-container">
    <h1>Add Movie</h1>

    <div class="form-container">
        <form method="post" class="movie-form">
            <div class="form-group">
                <label for="filePath">Video File Path</label>
                <input type="text" id="filePath" name="filePath" asp-for="FilePath" class="form-control" required />
                <small>Full path to the video file (e.g., C:\Videos\movie.mp4 or /Media/Movies/movie.mp4)</small>
            </div>

            <div class="form-group">
                <label for="customTitle">Movie Title (optional)</label>
                <input type="text" id="customTitle" name="customTitle" asp-for="CustomTitle" class="form-control" />
                <small>Leave empty to use filename. We'll try to fetch metadata from TMDB.</small>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Add Movie</button>
                <a asp-page="/Admin/Index" class="btn btn-secondary">Cancel</a>
            </div>
        </form>

        @if (!string.IsNullOrEmpty(Model.ErrorMessage))
        {
            <div class="alert alert-error">
                @Model.ErrorMessage
            </div>
        }

        @if (!string.IsNullOrEmpty(Model.SuccessMessage))
        {
            <div class="alert alert-success">
                @Model.SuccessMessage
            </div>
        }
    </div>

    <div class="help-section">
        <h3>Tips:</h3>
        <ul>
            <li>Place your video files in the Media/Movies folder for easy management</li>
            <li>Supported formats: .mp4, .mkv, .avi, .mov, .wmv, .flv, .webm</li>
            <li>Subtitle files (.srt) with the same name will be automatically detected</li>
            <li>Movie metadata (poster, description, etc.) will be fetched from TMDB if available</li>
        </ul>
    </div>
</div>
